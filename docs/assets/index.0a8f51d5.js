!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var e,t,n,a,o,i,s,c;async function r(e){var t=document.querySelector(".splashscreen");switch(e){case"hide":t.style.animationName="hide",t.style.animationDuration="1s",t.style.animationPlayState="running",t.onanimationend=()=>(t.style.opacity=0,t.style.animationPlayState="paused",!0);break;case"show":t.style.animationName="show",t.style.animationDuration="500ms",t.style.animationPlayState="running",t.onanimationend=()=>(t.style.opacity=1,t.style.animationPlayState="paused",!0)}}function d(){var e;o=document.getElementById("contentElement"),(a=document.getElementById("playButton")).addEventListener("click",(()=>{n.initialize(),i=!0,o.load(),v()})),n=new google.ima.AdDisplayContainer(document.getElementById("adContainer"),o),(t=new google.ima.AdsLoader(n)).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,y,!1),t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,f,!1),o.onended=m,void 0!==(e=o.play())&&e.then(l).catch(h)}function l(){o.pause(),s=!0,c=!1,g()}function h(){!function(){o.volume=0,o.muted=!0;var e=o.play();void 0!==e&&e.then(u).catch(p)}()}function u(){o.pause(),s=!0,c=!0,g()}function p(){o.volume=.01,o.muted=!1,s=!1,c=!1,g()}function m(){o.onended=null,t&&t.contentComplete()}function g(){var e=new google.ima.AdsRequest;e.adTagUrl="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=",e.linearAdSlotWidth=640,e.linearAdSlotHeight=400,e.nonLinearAdSlotWidth=640,e.nonLinearAdSlotHeight=150,e.setAdWillAutoPlay(s),e.setAdWillPlayMuted(c),t.requestAds(e)}function v(){try{i||(n.initialize(),i=!0),e.init(1280,720,google.ima.ViewMode.NORMAL),e.start()}catch(t){o.play()}}function y(t){console.log("video loaded");var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,e=t.getAdsManager(o,n);const i=s&&c?0:1;e.setVolume(i),e.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,f),e.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,w),e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,A),e.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,E),e.addEventListener(google.ima.AdEvent.Type.LOADED,E),e.addEventListener(google.ima.AdEvent.Type.STARTED,E),e.addEventListener(google.ima.AdEvent.Type.COMPLETE,E),s?v():a.style.display="block"}function E(e){var t=e.getAd();switch(e.type){case google.ima.AdEvent.Type.LOADED:t.isLinear()||o.play()}}function f(t){console.log(t.getError()),e.destroy(),o.play()}function w(){o.pause(),o.onended=null}function A(){o.play(),o.onended=m}const T=document.createElement("canvas").getContext("2d");T.canvas.width=1280,T.canvas.height=720,document.querySelector("#app").appendChild(T.canvas);const L=["x","o"];let S,b,R,C=0;const k=[...new Array(3)].map((e=>new Array(3).fill("")));let P;function W(){console.log("runAPP"),k.forEach((e=>e.fill(""))),C=0,document.addEventListener("keydown",_),cancelAnimationFrame(R),q(),Y(),document.querySelector(".adsWindow").remove(),r("hide").then((e=>{document.querySelector(".splashscreen").innerHTML="",S=L[Math.round(Math.random())],b=S,P=S,"o"==S&&(b=b=L[(L.indexOf(b)+ ++C)%2],U())}))}function O(){const e=document.createElement("section");e.classList.add("adsWindow");const t=document.createElement("div");t.setAttribute("id","mainContainer");const n=document.createElement("div");n.setAttribute("id","content");const a=document.createElement("div");a.setAttribute("id","adContainer");const o=document.createElement("button");o.setAttribute("id","playButton");const i=document.createElement("video");i.setAttribute("id","contentElement"),i.playsInline="playsinline",i.muted="muted",i.playbackRate=10;const s=document.createElement("source");s.src="https://storage.googleapis.com/gvabox/media/samples/stock.mp4",i.appendChild(s),n.appendChild(i),t.appendChild(n),t.appendChild(a),t.appendChild(o),e.appendChild(t),document.querySelector(".splashscreen").after(e),r("hide").then((t=>{console.log(t,"splashScreen hidden"),d(),console.log(i),i.addEventListener("ended",(()=>{e.style.opacity=0,W()}))}))}window.onload=()=>{!function(){const e=document.createElement("p");e.innerText="ARE YOU READY TO PLAY?";const t=document.createElement("button");t.setAttribute("id","play"),t.classList.add("btn-hover"),t.innerText="LET'S PLAY !";const n=document.createElement("button");n.innerText="...or go away...",n.setAttribute("id","away"),n.classList.add("btn-hover"),document.querySelector(".splashscreen").appendChild(e),document.querySelector(".splashscreen").appendChild(t),document.querySelector(".splashscreen").appendChild(n),t.addEventListener("click",O),n.addEventListener("click",(()=>{window.location.href="https://google.com"}))}()};const x=document.createElement("canvas").getContext("2d");function N(){return x.clearRect(0,0,x.canvas.width,x.canvas.height),x.i+=.1,x.i%=100,x.strokeStyle="rgba(60,0,0,0.5)",x.setLineDash([10]),x.lineJoin="round",x.lineWidth=10,x.rect(5,5,x.canvas.width-10,x.canvas.height-10),x.stroke(),x.canvas}x.canvas.width=180,x.canvas.height=180,x.i=0,x.posX=240,x.posY=240,x.step=240,N();const I=function(){const e=document.createElement("canvas").getContext("2d");return e.canvas.width=180,e.canvas.height=180,e.beginPath(),e.lineWidth=20,e.lineCap="round",e.fillStyle="#000",e.strokeStyle="#a00",e.beginPath(),e.moveTo(10,10),e.lineTo(e.canvas.width-10,e.canvas.height-10),e.stroke(),e.moveTo(e.canvas.width-10,10),e.lineTo(10,e.canvas.height-10),e.stroke(),e.canvas}();const M=function(){const e=document.createElement("canvas").getContext("2d");return e.canvas.width=180,e.canvas.height=180,e.beginPath(),e.lineWidth=20,e.lineCap="round",e.fillStyle="#000",e.strokeStyle="#00a",e.beginPath(),e.arc(90,90,80,0,2*Math.PI),e.stroke(),e.closePath(),e.canvas}();const D=function(){const e=document.createElement("canvas").getContext("2d");return e.canvas.width=720,e.canvas.height=720,e.save(),e.translate(e.canvas.height/2,e.canvas.height/2),e.lineWidth=e.canvas.height/50,e.lineCap="round",e.fillStyle="#000",e.strokeStyle="#000",e.beginPath(),e.moveTo(-e.canvas.height/6,-e.canvas.height/2+e.lineWidth),e.lineTo(-e.canvas.height/6,e.canvas.height/2-e.lineWidth),e.stroke(),e.moveTo(e.canvas.height/6,-e.canvas.height/2+e.lineWidth),e.lineTo(e.canvas.height/6,e.canvas.height/2-e.lineWidth),e.stroke(),e.moveTo(-e.canvas.height/2+e.lineWidth,-e.canvas.height/6),e.lineTo(e.canvas.height/2-e.lineWidth,-e.canvas.height/6),e.stroke(),e.moveTo(-e.canvas.height/2+e.lineWidth,e.canvas.height/6),e.lineTo(e.canvas.height/2-e.lineWidth,e.canvas.height/6),e.stroke(),e.restore(),e.canvas}();function q(){R=requestAnimationFrame(q),T.clearRect(0,0,T.canvas.width,T.canvas.height),T.drawImage(function(){const e=document.createElement("canvas").getContext("2d");return e.canvas.width=720,e.canvas.height=720,e.drawImage(D,0,0),k.forEach(((t,n)=>t.forEach(((t,a)=>{"x"==t?(e.save(),e.translate(e.canvas.width/2+x.step*a-x.step,e.canvas.height/2+x.step*n-x.step),e.drawImage(I,-x.canvas.width/2,-x.canvas.height/2),e.restore()):"o"==t&&(e.save(),e.translate(e.canvas.width/2+x.step*a-x.step,e.canvas.height/2+x.step*n-x.step),e.drawImage(M,-x.canvas.width/2,-x.canvas.height/2),e.restore())})))),e.save(),e.translate(e.canvas.width/2+x.posX-x.step,e.canvas.height/2+x.posY-x.step),e.restore(),e.canvas}(),T.canvas.width/2-T.canvas.height/2,0,T.canvas.height,T.canvas.height),T.save(),T.translate(T.canvas.width/2+x.posX-x.step,T.canvas.height/2+x.posY-x.step),T.globalAlpha=.4,"x"==b?T.drawImage(I,-x.canvas.width/2,-x.canvas.height/2):T.drawImage(M,-x.canvas.width/2,-x.canvas.height/2),T.globalAlpha=1,T.drawImage(N(),-x.canvas.width/2,-x.canvas.height/2),T.restore(),T.fillStyle="#000",T.font="40px Bender-Bold",T.textBaseline="middle",T.fillText("PLAYER",10,100);let e=Math.floor(T.measureText("COMPUTER").width);T.fillText("COMPUTER",T.canvas.width-e-10,100),"x"==S?(T.drawImage(I,30,140,100,100),T.drawImage(M,1150,140,100,100)):(T.drawImage(M,30,140,100,100),T.drawImage(I,1150,140,100,100))}function Y(){T.ratio=T.canvas.width/T.canvas.height,window.ratio=window.innerWidth/window.innerHeight,window.innerWidth<1280?window.ratio<T.ratio?document.querySelector("#app").setAttribute("style","transform:scale("+window.innerWidth/1280+")"):document.querySelector("#app").setAttribute("style","transform:scale("+window.innerHeight/720+")"):window.innerHeight<720?document.querySelector("#app").setAttribute("style","transform:scale("+window.innerHeight/720+")"):document.querySelector("#app").setAttribute("style","transform:scale(1)")}function _(e){switch(e.code.toUpperCase()){case"ARROWUP":x.posY-=x.step,x.posY<=0&&(x.posY=0);break;case"ARROWDOWN":x.posY+=x.step,x.posY>=2*x.step&&(x.posY=2*x.step);break;case"ARROWLEFT":x.posX-=x.step,x.posX<=0&&(x.posX=0);break;case"ARROWRIGHT":x.posX+=x.step,x.posX>=2*x.step&&(x.posX=2*x.step);break;case"SPACE":k[x.posY/x.step][x.posX/x.step]||(k[x.posY/x.step][x.posX/x.step]=b,X(b).then((e=>{console.log("e - ",e),e?(b==P?console.log("activeGamer - PLAYER",b,"WINNER"):console.log("activeGamer - COMPUTER",b,"WINNER"),setTimeout((()=>{B(b)}),1e3)):(b=L[(L.indexOf(b)+ ++C)%2],setTimeout((()=>{U()}),500))})))}}function U(){!function(){if(k[1][1]){let e=[k[0][0],k[0][2],k[2][0],k[2][2]],t=[];e.forEach(((e,n)=>{""==e&&t.push(n)}));let n=Math.floor(Math.random()*t.length);switch(JSON.stringify(t[n])){case"0":console.log("0 - "),k[0][0]=b;break;case"1":console.log("1 - "),k[0][2]=b;break;case"2":console.log("2 - "),k[2][0]=b;break;case"3":console.log("3 - "),k[2][2]=b}return void console.log(k.flat())}console.log("first check"),k[1][1]=b}(),X(b).then((e=>{e?(b==P?console.log("activeGamer - PLAYER",b,"WINNER"):console.log("activeGamer - COMPUTER",b,"WINNER"),setTimeout((()=>{B(b)}),1e3)):b=L[(L.indexOf(b)+C++)%2]}))}async function X(e){let t=[],n=k.flat();for(var a=n.indexOf(e);-1!=a;)t.push(a),a=n.indexOf(e,a+1);console.log("gamer - "+e,"arr - "+n,"checkArr - "+t);const o=[[0,4,8],[2,4,6],[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8]];for(const i of o){let n=[];for(const a of i)for(const o of t)if(a==o&&n.push(a),JSON.stringify(n)===JSON.stringify(i))return console.log(e+"- WINNER",n,i),!0}return!1}function B(e){document.removeEventListener("keydown",_),r("show").then((t=>{cancelAnimationFrame(R);const n=document.createElement("p");n.innerText=e==P?" HUMAN WINNER !!!":"COMPUTER WINNER !!!";const a=document.createElement("button");a.setAttribute("id","play"),a.classList.add("btn-hover"),a.innerText="LET'S PLAY !";const o=document.createElement("button");o.innerText="...or go away...",o.setAttribute("id","away"),o.classList.add("btn-hover"),document.querySelector(".splashscreen").appendChild(n),document.querySelector(".splashscreen").appendChild(a),document.querySelector(".splashscreen").appendChild(o),a.addEventListener("click",O)}))}window.addEventListener("resize",Y);
